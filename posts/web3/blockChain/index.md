---
date: 2024-09-23
title: 区块链Block Chain
category: blockchain
tags:
- web3
- blockchain
description: 对区块链的简单介绍，什么是区块链？工作原理？类型等
---

# 区块链简单介绍

## 什么是区块链？

首先要明确的是区块链属于一种**技术**，可用来保留交易记录和执行合同，通过加密来确保无法篡改之前的历史记录，并且允许链上的节点通过跟踪共享账本的记录来共享工作流程。

是从**集中式数据库中演变**来的一种分布式的数据管理方式。
在集中式数据库中，数据存储在一个中心位置，而在区块链中，数据分散存储在多个节点上，每个节点都有一份完整的账本副本。
集中式数据库需要有一个中心服务器，优点就是能集中管理数据，缺点就是一旦中心服务器出现问题，整个系统就会受到影响，另外这个中心服务器需要承担集成的责任。 
而区块链的优点就是去中心化，每个节点都有一份完整的账本副本，一旦某个节点出现问题，其他节点也可以通过验证账本的记录来恢复数据。

所以区块链本质就是一种分布式管理的技术。也称分布式账本，就是对**事务**的历史记录，所以**每个事务都会影响最终状态**。
分布在参与者之间的区块链网络成为**联盟网络**，而分布在不同的区块链网络之间的区块链网络称为**公链**。
通过联盟网络，不同的参与者可以共享账本的记录，而通过公链，不同的区块链网络可以共享账本的记录。

区块链还使用**共识机制来确保不同节点之间数据的一致性**，通过**加密技术来确保数据的安全性**。

## 工作原理

在区块链中，每个节点都有一份完整的账本副本，每个节点都可以添加新的交易记录，然后通过共识机制来确保所有节点上的账本副本都是一致的。
区块链中的数据表示状态，即所有权，以现实生活的物品来说，不可能一件东西即是A的又是B的。区块链通过**事务**将数据的状态从一个值改为另一个值。
事务实际就是状态更改的体现，在发送事务时，会发送到区块链节点，然后节点会将事务添加到区块链中，然后通过共识机制来确保所有节点上的账本副本都是一致的。

### 如何确保一致性？

在区块链中会采取一种共识机制，来确保、验证区块链上的节点数据一致。共识机制会提供一种方法，让所有分散管理的节点都达到相同的状态。

**双重花费**：已经想数据的所有权转给A，就不能再转给B。

共识机制的原理就是：一组事务作为一个区块来验证，整个网络中所有节点都需要验证这个区块，只有当所有节点都验证通过了，才会将这个区块添加到区块链中。

有很多中共识算法：**`工作证明`**、**`所有权证明`**、**`授权证明`**等

### 块

`块`在区块链中是一组事务的集合，每个块都有一个唯一的标识符，称为**块哈希**。每个块都有一个**前一个块的哈希值**，称为**前一个块哈希**。每个块都有一个**时间戳**，用于记录块的创建时间。每个块都有一个**工作量证明**，用于确保块的创建者是一个合法的节点。
所以一个块中：
- 前一个块哈希
- 时间戳
- 工作量证明

经过共识机制的验证之后，就会将这个块添加到区块链中。区块链中的所有节点都有相同的块。

### 如何保证账本不可变？

区块链使用加密**哈希**在块之间创建连接(**前一个块哈希**)，块连接在一起之后，通过共识算法确定事务顺序的一致性。
通过哈希可以检测数据有没有发生变化，从而实现的信任。
如果修改块中的数据，后面块的哈希就会变化，验证就会不通过。

### 如何保证安全性？

在区块链中身份验证是很重要的，需要确保去中心化网络的安全。区块链中通过多种加密方式来验证身份：非对称加密、签名、公开签名、钱包、热钱包等。

#### 非对称加密

简而言之：公钥加密\解密、私钥解密\加密；公钥是对外开放的，私钥是不可以开放的。

#### 签名 Sign

指的是利用私钥对数据进行加密的过程。在区块链中，进行某次操作时，需要对操作的数据进行签名。目的是确保数据来源的真实性。签名后的数据可以被其他用户利用**发送方的公钥**来验证和解密。

#### 公开签名 Public Signing

指的是在用公钥加密体系中使用签名操作的过程。一般有以下步骤：
1. 发送方通过私钥加密操作数据
2. 发送加密后的数据和公钥
3. 接收方使用发送方的公钥解密数据
4. 签名信息被验证，验证通过后接收信息

通过公开签名机制，可以保证数据的完整性和传输安全，防止篡改，防止抵赖，以及保证了用户的身份真实。

#### 钱包

在Web3中用来存储、管理数字资产和密钥(私钥)的一种应用程序。分为硬件钱包和软件钱包：
- 硬件钱包如Ledger Nano
- 软件钱包如MetaMask

#### 热钱包

热钱包是始终与互联网连接的数字货币钱包，可以方便的完成交易操作。但是可能有安全隐患，一般用来小额操作。

### 如何添加在每个节点一致执行的逻辑？

在区块链中，每个节点都有相同的块，当某一个块中的数据变化时，整个区块链的所有节点该块都应该执行相同的逻辑来修改块数据。如果做到呢？

**分散式应用程序(DApp)**是分布式计算系统的应用程序。
Ethereum 区块链协议，Ethereum DApps称为**智能合同/智能合约**。可以使用`Solidity`来进行开发。
> Ethereum就是以太坊 是一种通用的区块链协议。

智能合同需要部署到区块链网络上，并按地址来引用。在节点中如果要使用智能合同，需要创建实例来使用。在智能合同实例中包含了状态数据和程序逻辑。比如某个节点通过智能合同实例修改了状态数据，区块链网络会自动广播这个修改，其他节点也会自动执行相同的逻辑来修改状态数据。

## 区块链类型

区块链可以公用，也可以私用。

### 公用

公用的区块链是指任何能访问互联网的都可以加入区块链网络，不需要登录、申请权限等。
公用区块链的共识算法使用加密货币作为验证块的奖励，比如比特币区块链网络。
在验证事务时，可能需要花费加密货币作为手续费。

### 私用

在专用的区块链网络中，只有受邀加入区块链网络的参与者才能访问区块链中存储的信息。是不完全受信任的网络，所有参与者就区块链的利用方式达成一个协议。
